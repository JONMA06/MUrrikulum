<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <title>Izena Eman</title>
    <style>
        .full-screen-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            background-image: url('/images/fondo_register.jpg');
            background-size: cover;
            background-position: center;
            position: relative;

        }
    </style>
</head>

<body>
    <header th:replace="~{header :: header}"></header>
    <section class="full-screen-section vh-100 gradient-custom">
        <div class="container py-5 h-100">
            <div class="row justify-content-center align-items-center h-100">
                <div class="col-12 col-lg-9 col-xl-7">
                    <div class="card shadow-2-strong card-registration" style="border-radius: 15px;">
                        <div class="card-body p-4 p-md-5">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h1 class="mb-2 pb-2 pb-md-0 mb-md-4">Izena eman</h1>
                                <a th:href="@{/izena_eman_enpresa}" class="btn btn-sm btn-success pt-2 pb-2">Izena eman
                                    enpresa</a>
                            </div>
                            <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>
                            <form action="/register_arrunta" method="post" onsubmit="return validateForm()">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-floating mb-3">
                                            <input type="text" id="izena" name="izena"
                                                class="form-control form-control-lg" placeholder="Izena" required />
                                            <label for="izena" class="form-label">Izena</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-floating mb-3">
                                            <input type="text" id="abizenak" name="abizena"
                                                class="form-control form-control-lg" placeholder="Abizenak" required />
                                            <label for="abizenak" class="form-label">Abizenak</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div id="passwordRequirements" class="mb-3">
                                        
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-floating mb-3">
                                            <input type="password" id="pasahitza" name="pasahitza"
                                                class="form-control form-control-lg" placeholder="Pasahitza" required
                                                onchange="checkPasswordRequirements()" />
                                            <label for="pasahitza" class="form-label">Pasahitza</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-floating mb-3">
                                            <input type="password" id="pasahitza2" class="form-control form-control-lg"
                                                placeholder="Pasahitza baieztatu" required
                                                onchange="checkPasswordRequirements()" />
                                            <label for="pasahitza2" class="form-label">Pasahitza baieztatu</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-floating mb-3">
                                            <input type="email" id="emailAddress" name="email"
                                                class="form-control form-control-lg" placeholder="Posta elektronikoa"
                                                required />
                                            <label for="emailAddress" class="form-label">Posta elektronikoa</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-floating mb-3">
                                            <input type="text" id="erabiltzailea" name="erabiltzailea"
                                                class="form-control form-control-lg" placeholder="Erabiltzaile izena"
                                                required />
                                            <label for="erabiltzailea" class="form-label">Erabiltzaile izena</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-floating mb-1">
                                            <input type="number" id="adina" name="adina"
                                                class="form-control form-control-lg" placeholder="Adina" required />
                                            <label for="adina" class="form-label">Adina</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-floating mb-1">
                                            <select class="form-select form-control-lg" id="lokalidadea"
                                                name="lokalidadea">
                                                <option value="1">---Probintzia bat aukeratu---</option>
                                                <option value="Alava">Álava</option>
                                                <option value="Albacete">Albacete</option>
                                                <option value="Alicante">Alicante</option>
                                                <option value="Almeria">Almería</option>
                                                <option value="Asturias">Asturias</option>
                                                <option value="Avila">Ávila</option>
                                                <option value="Badajoz">Badajoz</option>
                                                <option value="Barcelona">Barcelona</option>
                                                <option value="Burgos">Burgos</option>
                                                <option value="Caceres">Cáceres</option>
                                                <option value="Cadiz">Cádiz</option>
                                                <option value="Cantabria">Cantabria</option>
                                                <option value="Castellon">Castellón</option>
                                                <option value="Ceuta">Ceuta</option>
                                                <option value="Ciudad Real">Ciudad Real</option>
                                                <option value="Cordoba">Córdoba</option>
                                                <option value="Cuenca">Cuenca</option>
                                                <option value="Girona">Girona</option>
                                                <option value="Granada">Granada</option>
                                                <option value="Guadalajara">Guadalajara</option>
                                                <option value="Guipuzcoa">Guipúzcoa</option>
                                                <option value="Huelva">Huelva</option>
                                                <option value="Huesca">Huesca</option>
                                                <option value="Illes Balears">Illes Balears</option>
                                                <option value="Jaen">Jaén</option>
                                                <option value="La Coruna">La Coruña</option>
                                                <option value="La Rioja">La Rioja</option>
                                                <option value="Las Palmas">Las Palmas</option>
                                                <option value="Leon">León</option>
                                                <option value="Lleida">Lleida</option>
                                                <option value="Lugo">Lugo</option>
                                                <option value="Madrid">Madrid</option>
                                                <option value="Malaga">Málaga</option>
                                                <option value="Melilla">Melilla</option>
                                                <option value="Murcia">Murcia</option>
                                                <option value="Navarra">Navarra</option>
                                                <option value="Ourense">Ourense</option>
                                                <option value="Palencia">Palencia</option>
                                                <option value="Pontevedra">Pontevedra</option>
                                                <option value="Salamanca">Salamanca</option>
                                                <option value="Santa Cruz de Tenerife">Santa Cruz de Tenerife</option>
                                                <option value="Segovia">Segovia</option>
                                                <option value="Sevilla">Sevilla</option>
                                                <option value="Soria">Soria</option>
                                                <option value="Tarragona">Tarragona</option>
                                                <option value="Teruel">Teruel</option>
                                                <option value="Toledo">Toledo</option>
                                                <option value="Valencia">Valencia</option>
                                                <option value="Valladolid">Valladolid</option>
                                                <option value="Vizcaya">Vizcaya</option>
                                                <option value="Zamora">Zamora</option>
                                                <option value="Zaragoza">Zaragoza</option>
                                            </select>
                                            <label for="lokalidadea" class="form-label">Probintzia</label>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="row">
                                    <div class="col-md-6 mb-1 form-group mt-3">
                                        <label class="form-label mr-2" for="fitxategia">Igo zure dokumentuak:</label>
                                        <input type="file" id="fitxategia" value="Artxiboa aukeratu">
                                    </div>
                                </div> -->

                                <div class="mt-2 pt-2">
                                    <input data-mdb-ripple-init class="btn btn-primary btn-lg" type="submit"
                                        value="Ados">
                                </div>
                            </form>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        function validateForm() {
            const password = document.getElementById('pasahitza').value;
            const confirmPassword = document.getElementById('pasahitza2').value;

            if (password !== confirmPassword) {
                alert('Pasahitzak ez dira berdinak');
                return false;
            }

            const passwordPattern = /^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[\w!@#$%^&*()_+]{8,}$/;

            if (!passwordPattern.test(password)) {
                alert('Pasahitza ez da segurua. Mesedez, sartu gutxienez letra larri, zenbaki eta sinbolo bat.');
                return false;
            }

            return true;
        }

        function checkPasswordRequirements() {
            const password = document.getElementById('pasahitza').value;
            const confirmPassword = document.getElementById('pasahitza2').value;
            const passwordRequirements = document.getElementById('passwordRequirements');

            const passwordPattern = /^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[\w!@#$%^&*()_+]{8,}$/;

            if (passwordPattern.test(password) && password === confirmPassword) {
                passwordRequirements.textContent = 'Pasahitza onargarria da.';
                passwordRequirements.classList.remove('text-danger');
                passwordRequirements.classList.add('text-success');
            } else if (password !== confirmPassword) {
                passwordRequirements.textContent = 'Pasahitzak ez dira berdinak.';
                passwordRequirements.classList.remove('text-success');
                passwordRequirements.classList.add('text-danger');
            } else {
                passwordRequirements.textContent = 'Pasahitza ez da segurua. Mesedez, sartu gutxienez letra larri, zenbaki, sinbolo bat eta 8 karaktere.';
                passwordRequirements.classList.remove('text-success');
                passwordRequirements.classList.add('text-danger');
            }
        }

    </script>
</body>

</html>